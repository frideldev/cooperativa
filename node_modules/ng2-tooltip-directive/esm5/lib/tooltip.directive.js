/**
 * @fileoverview added by tsickle
 * Generated from: lib/tooltip.directive.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, ElementRef, HostListener, Input, ComponentFactoryResolver, ApplicationRef, Injector, Output, EventEmitter, Inject, Optional } from '@angular/core';
import { TooltipComponent } from './tooltip.component';
import { TooltipOptionsService } from './tooltip-options.service';
import { defaultOptions, backwardCompatibilityOptions } from './options';
/**
 * @record
 */
import * as Éµngcc0 from '@angular/core';
export function AdComponent() { }
if (false) {
    /** @type {?} */
    AdComponent.prototype.data;
    /** @type {?} */
    AdComponent.prototype.show;
    /** @type {?} */
    AdComponent.prototype.close;
    /** @type {?} */
    AdComponent.prototype.events;
}
var TooltipDirective = /** @class */ (function () {
    function TooltipDirective(initOptions, elementRef, componentFactoryResolver, appRef, injector) {
        this.initOptions = initOptions;
        this.elementRef = elementRef;
        this.componentFactoryResolver = componentFactoryResolver;
        this.appRef = appRef;
        this.injector = injector;
        this._showDelay = 0;
        this._hideDelay = 300;
        this._options = {};
        this.events = new EventEmitter();
    }
    Object.defineProperty(TooltipDirective.prototype, "options", {
        get: /**
         * @return {?}
         */
        function () {
            return this._options;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (value && defaultOptions) {
                this._options = value;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TooltipDirective.prototype, "isTooltipDestroyed", {
        get: /**
         * @return {?}
         */
        function () {
            return this.componentRef && this.componentRef.hostView.destroyed;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TooltipDirective.prototype, "destroyDelay", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._destroyDelay) {
                return this._destroyDelay;
            }
            else {
                return Number(this.getHideDelay()) + Number(this.options['animationDuration']);
            }
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._destroyDelay = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TooltipDirective.prototype, "tooltipPosition", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.options['position']) {
                return this.options['position'];
            }
            else {
                return this.elementPosition;
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    TooltipDirective.prototype.onMouseEnter = /**
     * @return {?}
     */
    function () {
        if (this.isDisplayOnHover == false) {
            return;
        }
        this.show();
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.onMouseLeave = /**
     * @return {?}
     */
    function () {
        if (this.options['trigger'] === 'hover') {
            this.destroyTooltip();
        }
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.onClick = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.isDisplayOnClick == false) {
            return;
        }
        this.show();
        this.hideAfterClickTimeoutId = window.setTimeout((/**
         * @return {?}
         */
        function () {
            _this.destroyTooltip();
        }), this.options['hideDelayAfterClick']);
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    TooltipDirective.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        this.initOptions = this.renameProperties(this.initOptions);
        /** @type {?} */
        var changedOptions = this.getProperties(changes);
        changedOptions = this.renameProperties(changedOptions);
        this.applyOptionsDefault(defaultOptions, changedOptions);
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        this.destroyTooltip({
            fast: true
        });
        if (this.componentSubscribe) {
            this.componentSubscribe.unsubscribe();
        }
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.getShowDelay = /**
     * @return {?}
     */
    function () {
        return this.options['showDelay'];
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.getHideDelay = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var hideDelay = this.options['hideDelay'];
        /** @type {?} */
        var hideDelayTouchscreen = this.options['hideDelayTouchscreen'];
        return this.isTouchScreen ? hideDelayTouchscreen : hideDelay;
    };
    /**
     * @param {?} changes
     * @return {?}
     */
    TooltipDirective.prototype.getProperties = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        /** @type {?} */
        var properties = {};
        for (var prop in changes) {
            if (prop !== 'options' && prop !== 'tooltipValue') {
                properties[prop] = changes[prop].currentValue;
            }
            if (prop === 'options') {
                properties = changes[prop].currentValue;
            }
        }
        return properties;
    };
    /**
     * @param {?} options
     * @return {?}
     */
    TooltipDirective.prototype.renameProperties = /**
     * @param {?} options
     * @return {?}
     */
    function (options) {
        for (var prop in options) {
            if (backwardCompatibilityOptions[prop]) {
                options[backwardCompatibilityOptions[prop]] = options[prop];
                delete options[prop];
            }
        }
        return options;
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.getElementPosition = /**
     * @return {?}
     */
    function () {
        this.elementPosition = this.elementRef.nativeElement.getBoundingClientRect();
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.createTooltip = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.clearTimeouts();
        this.getElementPosition();
        this.createTimeoutId = window.setTimeout((/**
         * @return {?}
         */
        function () {
            _this.appendComponentToBody(TooltipComponent);
        }), this.getShowDelay());
        this.showTimeoutId = window.setTimeout((/**
         * @return {?}
         */
        function () {
            _this.showTooltipElem();
        }), this.getShowDelay());
    };
    /**
     * @param {?=} options
     * @return {?}
     */
    TooltipDirective.prototype.destroyTooltip = /**
     * @param {?=} options
     * @return {?}
     */
    function (options) {
        var _this = this;
        if (options === void 0) { options = {
            fast: false
        }; }
        this.clearTimeouts();
        if (this.isTooltipDestroyed == false) {
            this.hideTimeoutId = window.setTimeout((/**
             * @return {?}
             */
            function () {
                _this.hideTooltip();
            }), options.fast ? 0 : this.getHideDelay());
            this.destroyTimeoutId = window.setTimeout((/**
             * @return {?}
             */
            function () {
                if (!_this.componentRef || _this.isTooltipDestroyed) {
                    return;
                }
                _this.appRef.detachView(_this.componentRef.hostView);
                _this.componentRef.destroy();
                _this.events.emit({
                    type: 'hidden',
                    position: _this.tooltipPosition
                });
            }), options.fast ? 0 : this.destroyDelay);
        }
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.showTooltipElem = /**
     * @return {?}
     */
    function () {
        this.clearTimeouts();
        ((/** @type {?} */ (this.componentRef.instance))).show = true;
        this.events.emit({
            type: 'show',
            position: this.tooltipPosition
        });
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.hideTooltip = /**
     * @return {?}
     */
    function () {
        if (!this.componentRef || this.isTooltipDestroyed) {
            return;
        }
        ((/** @type {?} */ (this.componentRef.instance))).show = false;
        this.events.emit({
            type: 'hide',
            position: this.tooltipPosition
        });
    };
    /**
     * @param {?} component
     * @param {?=} data
     * @return {?}
     */
    TooltipDirective.prototype.appendComponentToBody = /**
     * @param {?} component
     * @param {?=} data
     * @return {?}
     */
    function (component, data) {
        var _this = this;
        if (data === void 0) { data = {}; }
        this.componentRef = this.componentFactoryResolver
            .resolveComponentFactory(component)
            .create(this.injector);
        ((/** @type {?} */ (this.componentRef.instance))).data = {
            value: this.tooltipValue,
            element: this.elementRef.nativeElement,
            elementPosition: this.tooltipPosition,
            options: this.options
        };
        this.appRef.attachView(this.componentRef.hostView);
        /** @type {?} */
        var domElem = (/** @type {?} */ (((/** @type {?} */ (this.componentRef.hostView))).rootNodes[0]));
        document.body.appendChild(domElem);
        this.componentSubscribe = ((/** @type {?} */ (this.componentRef.instance))).events.subscribe((/**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            _this.handleEvents(event);
        }));
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.clearTimeouts = /**
     * @return {?}
     */
    function () {
        if (this.createTimeoutId) {
            clearTimeout(this.createTimeoutId);
        }
        if (this.showTimeoutId) {
            clearTimeout(this.showTimeoutId);
        }
        if (this.hideTimeoutId) {
            clearTimeout(this.hideTimeoutId);
        }
        if (this.destroyTimeoutId) {
            clearTimeout(this.destroyTimeoutId);
        }
    };
    Object.defineProperty(TooltipDirective.prototype, "isDisplayOnHover", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.options['display'] == false) {
                return false;
            }
            if (this.options['displayTouchscreen'] == false && this.isTouchScreen) {
                return false;
            }
            if (this.options['trigger'] !== 'hover') {
                return false;
            }
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TooltipDirective.prototype, "isDisplayOnClick", {
        get: /**
         * @return {?}
         */
        function () {
            if (this.options['display'] == false) {
                return false;
            }
            if (this.options['displayTouchscreen'] == false && this.isTouchScreen) {
                return false;
            }
            if (this.options['trigger'] != 'click') {
                return false;
            }
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TooltipDirective.prototype, "isTouchScreen", {
        get: /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');
            /** @type {?} */
            var mq = (/**
             * @param {?} query
             * @return {?}
             */
            function (query) {
                return window.matchMedia(query).matches;
            });
            if (('ontouchstart' in window)) {
                return true;
            }
            // include the 'heartz' as a way to have a non matching MQ to help terminate the join
            // https://git.io/vznFH
            /** @type {?} */
            var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');
            return mq(query);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} defaultOptions
     * @param {?} options
     * @return {?}
     */
    TooltipDirective.prototype.applyOptionsDefault = /**
     * @param {?} defaultOptions
     * @param {?} options
     * @return {?}
     */
    function (defaultOptions, options) {
        this.options = Object.assign({}, defaultOptions, this.initOptions || {}, options);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    TooltipDirective.prototype.handleEvents = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        if (event.type === 'shown') {
            this.events.emit({
                type: 'shown',
                position: this.tooltipPosition
            });
        }
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.show = /**
     * @return {?}
     */
    function () {
        if (!this.componentRef || this.isTooltipDestroyed) {
            this.createTooltip();
        }
        else if (!this.isTooltipDestroyed) {
            this.showTooltipElem();
        }
    };
    /**
     * @return {?}
     */
    TooltipDirective.prototype.hide = /**
     * @return {?}
     */
    function () {
        this.destroyTooltip();
    };
    /** @nocollapse */
    TooltipDirective.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [TooltipOptionsService,] }] },
        { type: ElementRef },
        { type: ComponentFactoryResolver },
        { type: ApplicationRef },
        { type: Injector }
    ]; };
    TooltipDirective.propDecorators = {
        options: [{ type: Input, args: ['options',] }],
        tooltipValue: [{ type: Input, args: ['tooltip',] }],
        placement: [{ type: Input, args: ['placement',] }],
        autoPlacement: [{ type: Input, args: ['autoPlacement',] }],
        contentType: [{ type: Input, args: ['content-type',] }],
        hideDelayMobile: [{ type: Input, args: ['hide-delay-mobile',] }],
        hideDelayTouchscreen: [{ type: Input, args: ['hideDelayTouchscreen',] }],
        zIndex: [{ type: Input, args: ['z-index',] }],
        animationDuration: [{ type: Input, args: ['animation-duration',] }],
        trigger: [{ type: Input, args: ['trigger',] }],
        tooltipClass: [{ type: Input, args: ['tooltip-class',] }],
        display: [{ type: Input, args: ['display',] }],
        displayMobile: [{ type: Input, args: ['display-mobile',] }],
        displayTouchscreen: [{ type: Input, args: ['displayTouchscreen',] }],
        shadow: [{ type: Input, args: ['shadow',] }],
        theme: [{ type: Input, args: ['theme',] }],
        offset: [{ type: Input, args: ['offset',] }],
        width: [{ type: Input, args: ['width',] }],
        maxWidth: [{ type: Input, args: ['max-width',] }],
        id: [{ type: Input, args: ['id',] }],
        showDelay: [{ type: Input, args: ['show-delay',] }],
        hideDelay: [{ type: Input, args: ['hide-delay',] }],
        hideDelayAfterClick: [{ type: Input, args: ['hideDelayAfterClick',] }],
        pointerEvents: [{ type: Input, args: ['pointerEvents',] }],
        position: [{ type: Input, args: ['position',] }],
        events: [{ type: Output }],
        onMouseEnter: [{ type: HostListener, args: ['focusin',] }, { type: HostListener, args: ['mouseenter',] }],
        onMouseLeave: [{ type: HostListener, args: ['focusout',] }, { type: HostListener, args: ['mouseleave',] }],
        onClick: [{ type: HostListener, args: ['click',] }]
    };
TooltipDirective.Éµfac = function TooltipDirective_Factory(t) { return new (t || TooltipDirective)(Éµngcc0.ÉµÉµdirectiveInject(TooltipOptionsService, 8), Éµngcc0.ÉµÉµdirectiveInject(Éµngcc0.ElementRef), Éµngcc0.ÉµÉµdirectiveInject(Éµngcc0.ComponentFactoryResolver), Éµngcc0.ÉµÉµdirectiveInject(Éµngcc0.ApplicationRef), Éµngcc0.ÉµÉµdirectiveInject(Éµngcc0.Injector)); };
TooltipDirective.Éµdir = Éµngcc0.ÉµÉµdefineDirective({ type: TooltipDirective, selectors: [["", "tooltip", ""]], hostBindings: function TooltipDirective_HostBindings(rf, ctx) { if (rf & 1) {
        Éµngcc0.ÉµÉµlistener("focusin", function TooltipDirective_focusin_HostBindingHandler() { return ctx.onMouseEnter(); })("mouseenter", function TooltipDirective_mouseenter_HostBindingHandler() { return ctx.onMouseEnter(); })("focusout", function TooltipDirective_focusout_HostBindingHandler() { return ctx.onMouseLeave(); })("mouseleave", function TooltipDirective_mouseleave_HostBindingHandler() { return ctx.onMouseLeave(); })("click", function TooltipDirective_click_HostBindingHandler() { return ctx.onClick(); });
    } }, inputs: { options: "options", tooltipValue: ["tooltip", "tooltipValue"], placement: "placement", autoPlacement: "autoPlacement", contentType: ["content-type", "contentType"], hideDelayMobile: ["hide-delay-mobile", "hideDelayMobile"], hideDelayTouchscreen: "hideDelayTouchscreen", zIndex: ["z-index", "zIndex"], animationDuration: ["animation-duration", "animationDuration"], trigger: "trigger", tooltipClass: ["tooltip-class", "tooltipClass"], display: "display", displayMobile: ["display-mobile", "displayMobile"], displayTouchscreen: "displayTouchscreen", shadow: "shadow", theme: "theme", offset: "offset", width: "width", maxWidth: ["max-width", "maxWidth"], id: "id", showDelay: ["show-delay", "showDelay"], hideDelay: ["hide-delay", "hideDelay"], hideDelayAfterClick: "hideDelayAfterClick", pointerEvents: "pointerEvents", position: "position" }, outputs: { events: "events" }, exportAs: ["tooltip"], features: [Éµngcc0.ÉµÉµNgOnChangesFeature] });
/*@__PURE__*/ (function () { Éµngcc0.ÉµsetClassMetadata(TooltipDirective, [{
        type: Directive,
        args: [{
                selector: '[tooltip]',
                exportAs: 'tooltip'
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: Optional
            }, {
                type: Inject,
                args: [TooltipOptionsService]
            }] }, { type: Éµngcc0.ElementRef }, { type: Éµngcc0.ComponentFactoryResolver }, { type: Éµngcc0.ApplicationRef }, { type: Éµngcc0.Injector }]; }, { events: [{
            type: Output
        }], options: [{
            type: Input,
            args: ['options']
        }], onMouseEnter: [{
            type: HostListener,
            args: ['focusin']
        }, {
            type: HostListener,
            args: ['mouseenter']
        }], onMouseLeave: [{
            type: HostListener,
            args: ['focusout']
        }, {
            type: HostListener,
            args: ['mouseleave']
        }], onClick: [{
            type: HostListener,
            args: ['click']
        }], tooltipValue: [{
            type: Input,
            args: ['tooltip']
        }], placement: [{
            type: Input,
            args: ['placement']
        }], autoPlacement: [{
            type: Input,
            args: ['autoPlacement']
        }], contentType: [{
            type: Input,
            args: ['content-type']
        }], hideDelayMobile: [{
            type: Input,
            args: ['hide-delay-mobile']
        }], hideDelayTouchscreen: [{
            type: Input,
            args: ['hideDelayTouchscreen']
        }], zIndex: [{
            type: Input,
            args: ['z-index']
        }], animationDuration: [{
            type: Input,
            args: ['animation-duration']
        }], trigger: [{
            type: Input,
            args: ['trigger']
        }], tooltipClass: [{
            type: Input,
            args: ['tooltip-class']
        }], display: [{
            type: Input,
            args: ['display']
        }], displayMobile: [{
            type: Input,
            args: ['display-mobile']
        }], displayTouchscreen: [{
            type: Input,
            args: ['displayTouchscreen']
        }], shadow: [{
            type: Input,
            args: ['shadow']
        }], theme: [{
            type: Input,
            args: ['theme']
        }], offset: [{
            type: Input,
            args: ['offset']
        }], width: [{
            type: Input,
            args: ['width']
        }], maxWidth: [{
            type: Input,
            args: ['max-width']
        }], id: [{
            type: Input,
            args: ['id']
        }], showDelay: [{
            type: Input,
            args: ['show-delay']
        }], hideDelay: [{
            type: Input,
            args: ['hide-delay']
        }], hideDelayAfterClick: [{
            type: Input,
            args: ['hideDelayAfterClick']
        }], pointerEvents: [{
            type: Input,
            args: ['pointerEvents']
        }], position: [{
            type: Input,
            args: ['position']
        }] }); })();
    return TooltipDirective;
}());
export { TooltipDirective };
if (false) {
    /** @type {?} */
    TooltipDirective.prototype.hideTimeoutId;
    /** @type {?} */
    TooltipDirective.prototype.destroyTimeoutId;
    /** @type {?} */
    TooltipDirective.prototype.hideAfterClickTimeoutId;
    /** @type {?} */
    TooltipDirective.prototype.createTimeoutId;
    /** @type {?} */
    TooltipDirective.prototype.showTimeoutId;
    /** @type {?} */
    TooltipDirective.prototype.componentRef;
    /** @type {?} */
    TooltipDirective.prototype.elementPosition;
    /** @type {?} */
    TooltipDirective.prototype._showDelay;
    /** @type {?} */
    TooltipDirective.prototype._hideDelay;
    /** @type {?} */
    TooltipDirective.prototype._id;
    /** @type {?} */
    TooltipDirective.prototype._options;
    /** @type {?} */
    TooltipDirective.prototype._defaultOptions;
    /** @type {?} */
    TooltipDirective.prototype._destroyDelay;
    /** @type {?} */
    TooltipDirective.prototype.componentSubscribe;
    /** @type {?} */
    TooltipDirective.prototype.tooltipValue;
    /** @type {?} */
    TooltipDirective.prototype.placement;
    /** @type {?} */
    TooltipDirective.prototype.autoPlacement;
    /** @type {?} */
    TooltipDirective.prototype.contentType;
    /** @type {?} */
    TooltipDirective.prototype.hideDelayMobile;
    /** @type {?} */
    TooltipDirective.prototype.hideDelayTouchscreen;
    /** @type {?} */
    TooltipDirective.prototype.zIndex;
    /** @type {?} */
    TooltipDirective.prototype.animationDuration;
    /** @type {?} */
    TooltipDirective.prototype.trigger;
    /** @type {?} */
    TooltipDirective.prototype.tooltipClass;
    /** @type {?} */
    TooltipDirective.prototype.display;
    /** @type {?} */
    TooltipDirective.prototype.displayMobile;
    /** @type {?} */
    TooltipDirective.prototype.displayTouchscreen;
    /** @type {?} */
    TooltipDirective.prototype.shadow;
    /** @type {?} */
    TooltipDirective.prototype.theme;
    /** @type {?} */
    TooltipDirective.prototype.offset;
    /** @type {?} */
    TooltipDirective.prototype.width;
    /** @type {?} */
    TooltipDirective.prototype.maxWidth;
    /** @type {?} */
    TooltipDirective.prototype.id;
    /** @type {?} */
    TooltipDirective.prototype.showDelay;
    /** @type {?} */
    TooltipDirective.prototype.hideDelay;
    /** @type {?} */
    TooltipDirective.prototype.hideDelayAfterClick;
    /** @type {?} */
    TooltipDirective.prototype.pointerEvents;
    /** @type {?} */
    TooltipDirective.prototype.position;
    /** @type {?} */
    TooltipDirective.prototype.events;
    /**
     * @type {?}
     * @private
     */
    TooltipDirective.prototype.initOptions;
    /**
     * @type {?}
     * @private
     */
    TooltipDirective.prototype.elementRef;
    /**
     * @type {?}
     * @private
     */
    TooltipDirective.prototype.componentFactoryResolver;
    /**
     * @type {?}
     * @private
     */
    TooltipDirective.prototype.appRef;
    /**
     * @type {?}
     * @private
     */
    TooltipDirective.prototype.injector;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9vbHRpcC5kaXJlY3RpdmUuanMiLCJzb3VyY2VzIjpbIm5nOi9uZzItdG9vbHRpcC1kaXJlY3RpdmUvbGliL3Rvb2x0aXAuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSx3QkFBd0IsRUFBbUIsY0FBYyxFQUFFLFFBQVEsRUFBd0IsTUFBTSxFQUFFLFlBQVksRUFBYSxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pOLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxjQUFjLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDekU7QUFBSTtBQUFXOztBQUVmLGlDQUtDO0FBQ0Q7QUFDWTtBQUNRLElBUGhCLDJCQUFVO0FBQ2Q7QUFDRSxJQURFLDJCQUFjO0FBQ2xCO0FBQ0MsSUFERyw0QkFBZTtBQUNuQjtBQUdDLElBSEcsNkJBQVk7QUFDaEI7QUFFQTtBQUVZLElBK0VSLDBCQUN1RCxXQUFXLEVBQ3RELFVBQXNCLEVBQ3RCLHdCQUFrRCxFQUNsRCxNQUFzQixFQUN0QixRQUFrQjtBQUFJLFFBSnFCLGdCQUFXLEdBQVgsV0FBVyxDQUFBO0FBQUMsUUFDdkQsZUFBVSxHQUFWLFVBQVUsQ0FBWTtBQUFDLFFBQ3ZCLDZCQUF3QixHQUF4Qix3QkFBd0IsQ0FBMEI7QUFBQyxRQUNuRCxXQUFNLEdBQU4sTUFBTSxDQUFnQjtBQUFDLFFBQ3ZCLGFBQVEsR0FBUixRQUFRLENBQVU7QUFBQyxRQXhFL0IsZUFBVSxHQUFRLENBQUMsQ0FBQztBQUN4QixRQUFJLGVBQVUsR0FBVyxHQUFHLENBQUM7QUFDN0IsUUFDSSxhQUFRLEdBQVEsRUFBRSxDQUFDO0FBQ3ZCLFFBNkRjLFdBQU0s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O0FBQ3pCO0FBQXFCLElBQWpCLHFDQUF1QztBQUMzQztBQUFxQixJQUFqQixxQ0FBdUM7QUFDM0M7QUFBcUIsSUFBakIsK0NBQTBEO0FBQzlEO0FBQXFCLElBQWpCLHlDQUF1RDtBQUMzRDtBQUFxQixJQUFqQixvQ0FBeUQ7QUFDN0Q7QUFDb0IsSUF1QmhCLGtDQUFxRTtBQUN6RTtBQUNPO0FBQ0E7QUFBZ0I7QUFBUSxJQUF2Qix1Q0FBOEQ7QUFBQztBQUNoRTtBQUFpQjtBQUN4QjtBQUFRLElBREEsc0NBQThCO0FBQUM7QUFDaEM7QUFBaUI7QUFBZ0I7QUFBUSxJQUF4QyxvREFBMEQ7QUFBQztBQUM1RDtBQUFpQjtBQUN4QjtBQUFRLElBREEsa0NBQThCO0FBQUM7QUFDaEM7QUFBaUI7QUFFeEI7QUFBUSxJQUZBLG9DQUEwQjtBQUFDO0FBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEhvc3RMaXN0ZW5lciwgSW5wdXQsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgRW1iZWRkZWRWaWV3UmVmLCBBcHBsaWNhdGlvblJlZiwgSW5qZWN0b3IsIENvbXBvbmVudFJlZiwgT25Jbml0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgT25EZXN0cm95LCBJbmplY3QsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRvb2x0aXBDb21wb25lbnQgfSBmcm9tICcuL3Rvb2x0aXAuY29tcG9uZW50JztcclxuaW1wb3J0IHsgVG9vbHRpcE9wdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi90b29sdGlwLW9wdGlvbnMuc2VydmljZSc7XHJcbmltcG9ydCB7IGRlZmF1bHRPcHRpb25zLCBiYWNrd2FyZENvbXBhdGliaWxpdHlPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcclxuaW1wb3J0IHsgVG9vbHRpcE9wdGlvbnMgfSBmcm9tICcuL3Rvb2x0aXAtb3B0aW9ucy5pbnRlcmZhY2UnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBZENvbXBvbmVudCB7XHJcbiAgICBkYXRhOiBhbnk7XHJcbiAgICBzaG93OiBib29sZWFuO1xyXG4gICAgY2xvc2U6IGJvb2xlYW47XHJcbiAgICBldmVudHM6IGFueTtcclxufVxyXG5cclxuQERpcmVjdGl2ZSh7XHJcbiAgICBzZWxlY3RvcjogJ1t0b29sdGlwXScsXHJcbiAgICBleHBvcnRBczogJ3Rvb2x0aXAnLFxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2x0aXBEaXJlY3RpdmUge1xyXG5cclxuICAgIGhpZGVUaW1lb3V0SWQ6IG51bWJlcjtcclxuICAgIGRlc3Ryb3lUaW1lb3V0SWQ6IG51bWJlcjtcclxuICAgIGhpZGVBZnRlckNsaWNrVGltZW91dElkOiBudW1iZXI7XHJcbiAgICBjcmVhdGVUaW1lb3V0SWQ6IG51bWJlcjtcclxuICAgIHNob3dUaW1lb3V0SWQ6IG51bWJlcjtcclxuICAgIGNvbXBvbmVudFJlZjogYW55O1xyXG4gICAgZWxlbWVudFBvc2l0aW9uOiBhbnk7XHJcbiAgICBfc2hvd0RlbGF5OiBhbnkgPSAwO1xyXG4gICAgX2hpZGVEZWxheTogbnVtYmVyID0gMzAwO1xyXG4gICAgX2lkOiBhbnk7XHJcbiAgICBfb3B0aW9uczogYW55ID0ge307XHJcbiAgICBfZGVmYXVsdE9wdGlvbnM6IGFueTtcclxuICAgIF9kZXN0cm95RGVsYXk6IG51bWJlcjtcclxuICAgIGNvbXBvbmVudFN1YnNjcmliZTogYW55O1xyXG5cclxuICAgIEBJbnB1dCgnb3B0aW9ucycpIHNldCBvcHRpb25zKHZhbHVlOiBUb29sdGlwT3B0aW9ucykge1xyXG4gICAgICAgIGlmICh2YWx1ZSAmJiBkZWZhdWx0T3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IG9wdGlvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgQElucHV0KCd0b29sdGlwJykgdG9vbHRpcFZhbHVlOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoJ3BsYWNlbWVudCcpIHBsYWNlbWVudDogc3RyaW5nO1xyXG4gICAgQElucHV0KCdhdXRvUGxhY2VtZW50JykgYXV0b1BsYWNlbWVudDogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgnY29udGVudC10eXBlJykgY29udGVudFR5cGU6IHN0cmluZztcclxuICAgIEBJbnB1dCgnaGlkZS1kZWxheS1tb2JpbGUnKSBoaWRlRGVsYXlNb2JpbGU6IG51bWJlcjtcclxuICAgIEBJbnB1dCgnaGlkZURlbGF5VG91Y2hzY3JlZW4nKSBoaWRlRGVsYXlUb3VjaHNjcmVlbjogbnVtYmVyO1xyXG4gICAgQElucHV0KCd6LWluZGV4JykgekluZGV4OiBudW1iZXI7XHJcbiAgICBASW5wdXQoJ2FuaW1hdGlvbi1kdXJhdGlvbicpIGFuaW1hdGlvbkR1cmF0aW9uOiBudW1iZXI7XHJcbiAgICBASW5wdXQoJ3RyaWdnZXInKSB0cmlnZ2VyOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoJ3Rvb2x0aXAtY2xhc3MnKSB0b29sdGlwQ2xhc3M6IHN0cmluZztcclxuICAgIEBJbnB1dCgnZGlzcGxheScpIGRpc3BsYXk6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoJ2Rpc3BsYXktbW9iaWxlJykgZGlzcGxheU1vYmlsZTogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgnZGlzcGxheVRvdWNoc2NyZWVuJykgZGlzcGxheVRvdWNoc2NyZWVuOiBib29sZWFuO1xyXG4gICAgQElucHV0KCdzaGFkb3cnKSBzaGFkb3c6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoJ3RoZW1lJykgdGhlbWU6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoJ29mZnNldCcpIG9mZnNldDogbnVtYmVyO1xyXG4gICAgQElucHV0KCd3aWR0aCcpIHdpZHRoOiBudW1iZXI7XHJcbiAgICBASW5wdXQoJ21heC13aWR0aCcpIG1heFdpZHRoOiBudW1iZXI7XHJcbiAgICBASW5wdXQoJ2lkJykgaWQ6IGFueTtcclxuICAgIEBJbnB1dCgnc2hvdy1kZWxheScpIHNob3dEZWxheTogbnVtYmVyO1xyXG4gICAgQElucHV0KCdoaWRlLWRlbGF5JykgaGlkZURlbGF5OiBudW1iZXI7XHJcbiAgICBASW5wdXQoJ2hpZGVEZWxheUFmdGVyQ2xpY2snKSBoaWRlRGVsYXlBZnRlckNsaWNrOiBudW1iZXI7XHJcbiAgICBASW5wdXQoJ3BvaW50ZXJFdmVudHMnKSBwb2ludGVyRXZlbnRzOiAnYXV0bycgfCAnbm9uZSc7XHJcbiAgICBASW5wdXQoJ3Bvc2l0aW9uJykgcG9zaXRpb246IHt0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyfTtcclxuXHJcbiAgICBnZXQgaXNUb29sdGlwRGVzdHJveWVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudFJlZiAmJiB0aGlzLmNvbXBvbmVudFJlZi5ob3N0Vmlldy5kZXN0cm95ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRlc3Ryb3lEZWxheSgpIHtcclxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveURlbGF5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZXN0cm95RGVsYXk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmdldEhpZGVEZWxheSgpKSArIE51bWJlcih0aGlzLm9wdGlvbnNbJ2FuaW1hdGlvbkR1cmF0aW9uJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldCBkZXN0cm95RGVsYXkodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lEZWxheSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0b29sdGlwUG9zaXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1sncG9zaXRpb24nXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zWydwb3NpdGlvbiddO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRQb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQE91dHB1dCgpIGV2ZW50czogRXZlbnRFbWl0dGVyIDwgYW55ID4gPSBuZXcgRXZlbnRFbWl0dGVyIDwgYW55ID4gKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgQE9wdGlvbmFsKCkgQEluamVjdChUb29sdGlwT3B0aW9uc1NlcnZpY2UpIHByaXZhdGUgaW5pdE9wdGlvbnMsXHJcbiAgICAgICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxyXG4gICAgICAgIHByaXZhdGUgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXHJcbiAgICAgICAgcHJpdmF0ZSBhcHBSZWY6IEFwcGxpY2F0aW9uUmVmLFxyXG4gICAgICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yKSB7fVxyXG5cclxuICAgIEBIb3N0TGlzdGVuZXIoJ2ZvY3VzaW4nKVxyXG4gICAgQEhvc3RMaXN0ZW5lcignbW91c2VlbnRlcicpXHJcbiAgICBvbk1vdXNlRW50ZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwbGF5T25Ib3ZlciA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBASG9zdExpc3RlbmVyKCdmb2N1c291dCcpXHJcbiAgICBASG9zdExpc3RlbmVyKCdtb3VzZWxlYXZlJylcclxuICAgIG9uTW91c2VMZWF2ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zWyd0cmlnZ2VyJ10gPT09ICdob3ZlcicpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VG9vbHRpcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycpXHJcbiAgICBvbkNsaWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGlzcGxheU9uQ2xpY2sgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgdGhpcy5oaWRlQWZ0ZXJDbGlja1RpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VG9vbHRpcCgpO1xyXG4gICAgICAgIH0sIHRoaXMub3B0aW9uc1snaGlkZURlbGF5QWZ0ZXJDbGljayddKVxyXG4gICAgfVxyXG5cclxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcclxuICAgICAgICB0aGlzLmluaXRPcHRpb25zID0gdGhpcy5yZW5hbWVQcm9wZXJ0aWVzKHRoaXMuaW5pdE9wdGlvbnMpO1xyXG4gICAgICAgIGxldCBjaGFuZ2VkT3B0aW9ucyA9IHRoaXMuZ2V0UHJvcGVydGllcyhjaGFuZ2VzKTtcclxuICAgICAgICBjaGFuZ2VkT3B0aW9ucyA9IHRoaXMucmVuYW1lUHJvcGVydGllcyhjaGFuZ2VkT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zRGVmYXVsdChkZWZhdWx0T3B0aW9ucywgY2hhbmdlZE9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIG5nT25EZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveVRvb2x0aXAoe1xyXG4gICAgICAgICAgICBmYXN0OiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudFN1YnNjcmliZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFN1YnNjcmliZS51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRTaG93RGVsYXkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1snc2hvd0RlbGF5J107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGlkZURlbGF5KCkge1xyXG4gICAgICAgIGNvbnN0IGhpZGVEZWxheSA9IHRoaXMub3B0aW9uc1snaGlkZURlbGF5J107XHJcbiAgICAgICAgY29uc3QgaGlkZURlbGF5VG91Y2hzY3JlZW4gPSB0aGlzLm9wdGlvbnNbJ2hpZGVEZWxheVRvdWNoc2NyZWVuJ107XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmlzVG91Y2hTY3JlZW4gPyBoaWRlRGVsYXlUb3VjaHNjcmVlbiA6IGhpZGVEZWxheTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcm9wZXJ0aWVzKGNoYW5nZXMpe1xyXG4gICAgICAgIGxldCBwcm9wZXJ0aWVzID0ge307XHJcblxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gY2hhbmdlcykge1xyXG4gICAgICAgICAgICBpZiAocHJvcCAhPT0gJ29wdGlvbnMnICYmIHByb3AgIT09ICd0b29sdGlwVmFsdWUnKXtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXNbcHJvcF0gPSBjaGFuZ2VzW3Byb3BdLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29wdGlvbnMnKXtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgPSBjaGFuZ2VzW3Byb3BdLmN1cnJlbnRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcclxuICAgIH1cclxuXHJcbiAgICByZW5hbWVQcm9wZXJ0aWVzKG9wdGlvbnM6IFRvb2x0aXBPcHRpb25zKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChiYWNrd2FyZENvbXBhdGliaWxpdHlPcHRpb25zW3Byb3BdKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zW2JhY2t3YXJkQ29tcGF0aWJpbGl0eU9wdGlvbnNbcHJvcF1dID0gb3B0aW9uc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zW3Byb3BdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbGVtZW50UG9zaXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50UG9zaXRpb24gPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVUb29sdGlwKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0cygpO1xyXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudFBvc2l0aW9uKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlVGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFwcGVuZENvbXBvbmVudFRvQm9keShUb29sdGlwQ29tcG9uZW50KTtcclxuICAgICAgICB9LCB0aGlzLmdldFNob3dEZWxheSgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93VGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwRWxlbSgpO1xyXG4gICAgICAgIH0sIHRoaXMuZ2V0U2hvd0RlbGF5KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3lUb29sdGlwKG9wdGlvbnMgPSB7XHJcbiAgICAgICAgZmFzdDogZmFsc2VcclxuICAgIH0pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNsZWFyVGltZW91dHMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNUb29sdGlwRGVzdHJveWVkID09IGZhbHNlKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhpZGVUaW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVUb29sdGlwKCk7XHJcbiAgICAgICAgICAgIH0sIG9wdGlvbnMuZmFzdCA/IDAgOiB0aGlzLmdldEhpZGVEZWxheSgpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveVRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21wb25lbnRSZWYgfHwgdGhpcy5pc1Rvb2x0aXBEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBSZWYuZGV0YWNoVmlldyh0aGlzLmNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaGlkZGVuJywgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHRoaXMudG9vbHRpcFBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgb3B0aW9ucy5mYXN0ID8gMCA6IHRoaXMuZGVzdHJveURlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1Rvb2x0aXBFbGVtKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0cygpO1xyXG4gICAgICAgICggPCBBZENvbXBvbmVudCA+IHRoaXMuY29tcG9uZW50UmVmLmluc3RhbmNlKS5zaG93ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KHtcclxuICAgICAgICAgICAgdHlwZTogJ3Nob3cnLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy50b29sdGlwUG9zaXRpb25cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoaWRlVG9vbHRpcCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50UmVmIHx8IHRoaXMuaXNUb29sdGlwRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgKCA8IEFkQ29tcG9uZW50ID4gdGhpcy5jb21wb25lbnRSZWYuaW5zdGFuY2UpLnNob3cgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KHtcclxuICAgICAgICAgICAgdHlwZTogJ2hpZGUnLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy50b29sdGlwUG9zaXRpb25cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmRDb21wb25lbnRUb0JvZHkoY29tcG9uZW50OiBhbnksIGRhdGE6IGFueSA9IHt9KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRSZWYgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclxyXG4gICAgICAgICAgICAucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50KVxyXG4gICAgICAgICAgICAuY3JlYXRlKHRoaXMuaW5qZWN0b3IpO1xyXG5cclxuICAgICAgICAoIDwgQWRDb21wb25lbnQgPiB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZSkuZGF0YSA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudG9vbHRpcFZhbHVlLFxyXG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCxcclxuICAgICAgICAgICAgZWxlbWVudFBvc2l0aW9uOiB0aGlzLnRvb2x0aXBQb3NpdGlvbixcclxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcodGhpcy5jb21wb25lbnRSZWYuaG9zdFZpZXcpO1xyXG4gICAgICAgIGNvbnN0IGRvbUVsZW0gPSAodGhpcy5jb21wb25lbnRSZWYuaG9zdFZpZXcgYXMgRW1iZWRkZWRWaWV3UmVmIDwgYW55ID4gKS5yb290Tm9kZXNbMF0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb21FbGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRTdWJzY3JpYmUgPSAoIDwgQWRDb21wb25lbnQgPiB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZSkuZXZlbnRzLnN1YnNjcmliZSgoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUV2ZW50cyhldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJUaW1lb3V0cygpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5jcmVhdGVUaW1lb3V0SWQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY3JlYXRlVGltZW91dElkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNob3dUaW1lb3V0SWQpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2hvd1RpbWVvdXRJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5oaWRlVGltZW91dElkKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lb3V0SWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveVRpbWVvdXRJZCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZXN0cm95VGltZW91dElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzRGlzcGxheU9uSG92ZXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1snZGlzcGxheSddID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNbJ2Rpc3BsYXlUb3VjaHNjcmVlbiddID09IGZhbHNlICYmIHRoaXMuaXNUb3VjaFNjcmVlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zWyd0cmlnZ2VyJ10gIT09ICdob3ZlcicpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzRGlzcGxheU9uQ2xpY2soKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1snZGlzcGxheSddID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNbJ2Rpc3BsYXlUb3VjaHNjcmVlbiddID09IGZhbHNlICYmIHRoaXMuaXNUb3VjaFNjcmVlbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zWyd0cmlnZ2VyJ10gIT0gJ2NsaWNrJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXNUb3VjaFNjcmVlbigpIHtcclxuICAgICAgICB2YXIgcHJlZml4ZXMgPSAnIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtICcuc3BsaXQoJyAnKTtcclxuICAgICAgICB2YXIgbXEgPSBmdW5jdGlvbihxdWVyeSkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEocXVlcnkpLm1hdGNoZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpbmNsdWRlIHRoZSAnaGVhcnR6JyBhcyBhIHdheSB0byBoYXZlIGEgbm9uIG1hdGNoaW5nIE1RIHRvIGhlbHAgdGVybWluYXRlIHRoZSBqb2luXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXQuaW8vdnpuRkhcclxuICAgICAgICB2YXIgcXVlcnkgPSBbJygnLCBwcmVmaXhlcy5qb2luKCd0b3VjaC1lbmFibGVkKSwoJyksICdoZWFydHonLCAnKSddLmpvaW4oJycpO1xyXG4gICAgICAgIHJldHVybiBtcShxdWVyeSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlPcHRpb25zRGVmYXVsdChkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCB0aGlzLmluaXRPcHRpb25zIHx8IHt9LCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVFdmVudHMoZXZlbnQ6IGFueSkge1xyXG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnc2hvd24nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3Nob3duJyxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnRvb2x0aXBQb3NpdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNob3coKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudFJlZiB8fCB0aGlzLmlzVG9vbHRpcERlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvb2x0aXAoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzVG9vbHRpcERlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dUb29sdGlwRWxlbSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZSgpIHtcclxuICAgICAgICB0aGlzLmRlc3Ryb3lUb29sdGlwKCk7XHJcbiAgICB9XHJcbn1cclxuIl19