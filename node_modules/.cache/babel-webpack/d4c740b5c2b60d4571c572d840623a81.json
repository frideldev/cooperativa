{"ast":null,"code":"import _classCallCheck from \"/mnt/DATOS/Trabajos/jullerosoft/cooperativa/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/DATOS/Trabajos/jullerosoft/cooperativa/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/**\n * @license ngx-smart-modal\n * MIT license\n */\nimport { ChangeDetectorRef, Component, EventEmitter, HostListener, Injectable, Input, NgModule, Output, Renderer2, ViewChild } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nvar _c0 = [\"nsmContent\"];\nvar _c1 = [\"nsmDialog\"];\nvar _c2 = [\"nsmOverlay\"];\n\nfunction NgxSmartModalComponent_div_0_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 9);\n    ɵngcc0.ɵɵlistener(\"click\", function NgxSmartModalComponent_div_0_button_8_Template_button_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r5.close();\n    });\n    ɵngcc0.ɵɵelement(1, \"img\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nvar _c3 = function _c3(a0, a2) {\n  return {\n    \"transparent\": a0,\n    \"overlay\": true,\n    \"nsm-overlay-open\": a2\n  };\n};\n\nvar _c4 = function _c4(a1, a2) {\n  return [\"nsm-dialog\", a1, a2];\n};\n\nfunction NgxSmartModalComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1, 2);\n    ɵngcc0.ɵɵlistener(\"click\", function NgxSmartModalComponent_div_0_Template_div_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r8);\n      var ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ctx_r7.dismiss($event);\n    });\n    ɵngcc0.ɵɵelementStart(2, \"div\", 3, 4);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 5, 6);\n    ɵngcc0.ɵɵelementStart(6, \"div\", 7);\n    ɵngcc0.ɵɵprojection(7);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(8, NgxSmartModalComponent_div_0_button_8_Template, 2, 0, \"button\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"z-index\", ctx_r0.visible ? ctx_r0.layerPosition - 1 : 0 - 1);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction2(7, _c3, !ctx_r0.backdrop, ctx_r0.openedClass));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵstyleProp(\"z-index\", ctx_r0.visible ? ctx_r0.layerPosition : 0 - 1);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction2(10, _c4, ctx_r0.customClass, ctx_r0.openedClass ? \"nsm-dialog-open\" : \"nsm-dialog-close\"));\n    ɵngcc0.ɵɵadvance(6);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.closable);\n  }\n}\n\nvar _c5 = [\"*\"];\n\nvar NgxSmartModalService = /*#__PURE__*/function () {\n  function NgxSmartModalService() {\n    _classCallCheck(this, NgxSmartModalService);\n\n    this.modalStack = [];\n  }\n  /**\n   * Add a new modal instance. This step is essential and allows to retrieve any modal at any time.\n   * It stores an object that contains the given modal identifier and the modal itself directly in the `modalStack`.\n   *\n   * @param {?} modalInstance The object that contains the given modal identifier and the modal itself.\n   * @param {?=} force Optional parameter that forces the overriding of modal instance if it already exists.\n   * @return {?} nothing special.\n   */\n\n\n  _createClass(NgxSmartModalService, [{\n    key: \"addModal\",\n    value: function addModal(modalInstance, force) {\n      if (force) {\n        var\n        /** @type {?} */\n        i = this.modalStack.findIndex(function (o) {\n          return o.id === modalInstance.id;\n        });\n\n        if (i > -1) {\n          this.modalStack[i].modal = modalInstance.modal;\n        } else {\n          this.modalStack.push(modalInstance);\n        }\n\n        return;\n      }\n\n      this.modalStack.push(modalInstance);\n    }\n    /**\n     * Retrieve a modal instance by its identifier.\n     *\n     * @param {?} id The modal identifier used at creation time.\n     * @return {?}\n     */\n\n  }, {\n    key: \"getModal\",\n    value: function getModal(id) {\n      return this.modalStack.filter(function (o) {\n        return o.id === id;\n      })[0].modal;\n    }\n    /**\n     * Alias of `getModal` to retrieve a modal instance by its identifier.\n     *\n     * @param {?} id The modal identifier used at creation time.\n     * @return {?}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this.getModal(id);\n    }\n    /**\n     * Open a given modal\n     *\n     * @param {?} id The modal identifier used at creation time.\n     * @param {?=} force Tell the modal to open top of all other opened modals\n     * @return {?}\n     */\n\n  }, {\n    key: \"open\",\n    value: function open(id) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var\n      /** @type {?} */\n      instance = this.modalStack.find(function (o) {\n        return o.id === id;\n      });\n\n      if (!!instance) {\n        instance.modal.open(force);\n      } else {\n        throw new Error('Modal not found');\n      }\n    }\n    /**\n     * Close a given modal\n     *\n     * @param {?} id The modal identifier used at creation time.\n     * @return {?}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close(id) {\n      var\n      /** @type {?} */\n      instance = this.modalStack.find(function (o) {\n        return o.id === id;\n      });\n\n      if (!!instance) {\n        instance.modal.close();\n      } else {\n        throw new Error('Modal not found');\n      }\n    }\n    /**\n     * Toggles a given modal\n     * If the retrieved modal is opened it closes it, else it opens it.\n     *\n     * @param {?} id The modal identifier used at creation time.\n     * @param {?=} force Tell the modal to open top of all other opened modals\n     * @return {?}\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle(id) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var\n      /** @type {?} */\n      instance = this.modalStack.find(function (o) {\n        return o.id === id;\n      });\n\n      if (!!instance) {\n        instance.modal.toggle(force);\n      } else {\n        throw new Error('Modal not found');\n      }\n    }\n    /**\n     * Retrieve all the created modals.\n     *\n     * @return {?} an array that contains all modal instances.\n     */\n\n  }, {\n    key: \"getModalStack\",\n    value: function getModalStack() {\n      return this.modalStack;\n    }\n    /**\n     * Retrieve all the opened modals. It looks for all modal instances with their `visible` property set to `true`.\n     *\n     * @return {?} an array that contains all the opened modals.\n     */\n\n  }, {\n    key: \"getOpenedModals\",\n    value: function getOpenedModals() {\n      var\n      /** @type {?} */\n      modals = [];\n      this.modalStack.forEach(function (o) {\n        if (o.modal.visible) {\n          modals.push(o);\n        }\n      });\n      return modals;\n    }\n    /**\n     * Get the higher `z-index` value between all the modal instances. It iterates over the `ModalStack` array and\n     * calculates a higher value (it takes the highest index value between all the modal instances and adds 1).\n     * Use it to make a modal appear foreground.\n     *\n     * @return {?} a higher index from all the existing modal instances.\n     */\n\n  }, {\n    key: \"getHigherIndex\",\n    value: function getHigherIndex() {\n      var\n      /** @type {?} */\n      index = [1041];\n      var\n      /** @type {?} */\n      modals = this.getModalStack();\n      modals.forEach(function (o) {\n        index.push(o.modal.layerPosition);\n      });\n      return Math.max.apply(Math, index) + 1;\n    }\n    /**\n     * It gives the number of modal instances. It's helpful to know if the modal stack is empty or not.\n     *\n     * @return {?} the number of modal instances.\n     */\n\n  }, {\n    key: \"getModalStackCount\",\n    value: function getModalStackCount() {\n      return this.modalStack.length;\n    }\n    /**\n     * Remove a modal instance from the modal stack.\n     *\n     * @param {?} id The modal identifier.\n     * @return {?} the removed modal instance.\n     */\n\n  }, {\n    key: \"removeModal\",\n    value: function removeModal(id) {\n      var\n      /** @type {?} */\n      i = this.modalStack.findIndex(function (o) {\n        return o.id === id;\n      });\n\n      if (i > -1) {\n        this.modalStack.splice(i, 1);\n      }\n    }\n    /**\n     * Associate data to an identified modal. If the modal isn't already associated to some data, it creates a new\n     * entry in the `modalData` array with its `id` and the given `data`. If the modal already has data, it rewrites\n     * them with the new ones. Finally if no modal found it returns an error message in the console and false value\n     * as method output.\n     *\n     * @param {?} data The data you want to associate to the modal.\n     * @param {?} id The modal identifier.\n     * @param {?=} force If true, overrides the previous stored data if there was.\n     * @return {?} true if the given modal exists and the process has been tried, either false.\n     */\n\n  }, {\n    key: \"setModalData\",\n    value: function setModalData(data, id, force) {\n      if (!!this.modalStack.find(function (o) {\n        return o.id === id;\n      })) {\n        this.getModal(id).setData(data, force);\n        return true;\n      } else {\n        return false;\n      }\n    }\n    /**\n     * Retrieve modal data by its identifier.\n     *\n     * @param {?} id The modal identifier used at creation time.\n     * @return {?} the associated modal data.\n     */\n\n  }, {\n    key: \"getModalData\",\n    value: function getModalData(id) {\n      return this.getModal(id).getData();\n    }\n    /**\n     * Reset the data attached to a given modal.\n     *\n     * @param {?} id The modal identifier used at creation time.\n     * @return {?} the removed data or false if modal doesn't exist.\n     */\n\n  }, {\n    key: \"resetModalData\",\n    value: function resetModalData(id) {\n      if (!!this.modalStack.find(function (o) {\n        return o.id === id;\n      })) {\n        var\n        /** @type {?} */\n        removed = this.getModal(id).getData();\n        this.getModal(id).removeData();\n        return removed;\n      } else {\n        return false;\n      }\n    }\n    /**\n     * Close the latest opened modal if it has been declared as escapable\n     * Using a debounce system because one or more modals could be listening\n     * escape key press event.\n     * @return {?}\n     */\n\n  }, {\n    key: \"closeLatestModal\",\n    value: function closeLatestModal() {\n      var\n      /** @type {?} */\n      me = this;\n      clearTimeout(this.debouncer);\n      this.debouncer = setTimeout(function () {\n        var\n        /** @type {?} */\n        tmp;\n        me.getOpenedModals().forEach(function (m) {\n          if (m.modal.layerPosition > (!!tmp ? tmp.modal.layerPosition : 0 && m.modal.escapable)) {\n            tmp = m;\n          }\n        });\n        return !!tmp ? tmp.modal.close() : false;\n      }, 100);\n    }\n  }]);\n\n  return NgxSmartModalService;\n}();\n\nNgxSmartModalService.ɵfac = function NgxSmartModalService_Factory(t) {\n  return new (t || NgxSmartModalService)();\n};\n\nNgxSmartModalService.ɵprov = ɵngcc0.ɵɵdefineInjectable({\n  token: NgxSmartModalService,\n  factory: NgxSmartModalService.ɵfac\n});\n/** @nocollapse */\n\nNgxSmartModalService.ctorParameters = function () {\n  return [];\n};\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NgxSmartModalService, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n\nvar NgxSmartModalComponent = /*#__PURE__*/function () {\n  /**\n   * @param {?} _renderer\n   * @param {?} _changeDetectorRef\n   * @param {?} _ngxSmartModalService\n   */\n  function NgxSmartModalComponent(_renderer, _changeDetectorRef, _ngxSmartModalService) {\n    var _this = this;\n\n    _classCallCheck(this, NgxSmartModalComponent);\n\n    this._renderer = _renderer;\n    this._changeDetectorRef = _changeDetectorRef;\n    this._ngxSmartModalService = _ngxSmartModalService;\n    this.closable = true;\n    this.escapable = true;\n    this.dismissable = true;\n    this.identifier = '';\n    this.customClass = 'nsm-dialog-animation-fade';\n    this.visible = false;\n    this.backdrop = true;\n    this.force = true;\n    this.hideDelay = 500;\n    this.autostart = false;\n    this.visibleChange = new EventEmitter();\n    this.onClose = new EventEmitter();\n    this.onCloseFinished = new EventEmitter();\n    this.onDismiss = new EventEmitter();\n    this.onDismissFinished = new EventEmitter();\n    this.onAnyCloseEvent = new EventEmitter();\n    this.onAnyCloseEventFinished = new EventEmitter();\n    this.onOpen = new EventEmitter();\n    this.onEscape = new EventEmitter();\n    this.onDataAdded = new EventEmitter();\n    this.onDataRemoved = new EventEmitter();\n    this.layerPosition = 1041;\n    this.overlayVisible = false;\n    this.openedClass = false;\n\n    this.escapeKeyboardEvent = function (event) {\n      if (event.keyCode === 27) {\n        _this.onEscape.emit(_this);\n\n        _this._ngxSmartModalService.closeLatestModal();\n      }\n    };\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _createClass(NgxSmartModalComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      if (!!this.identifier && this.identifier.length) {\n        this.layerPosition += this._ngxSmartModalService.getModalStackCount();\n\n        this._ngxSmartModalService.addModal({\n          id: this.identifier,\n          modal: this\n        }, this.force);\n\n        if (this.autostart) {\n          this._ngxSmartModalService.open(this.identifier);\n        }\n      } else {\n        throw new Error('identifier field isn’t set. Please set one before calling <ngx-smart-modal> in a template.');\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this._ngxSmartModalService.removeModal(this.identifier);\n\n      window.removeEventListener('keyup', this.escapeKeyboardEvent);\n\n      if (!this._ngxSmartModalService.getModalStack.length) {\n        this._renderer.removeClass(document.body, 'dialog-open');\n      }\n    }\n    /**\n     * @param {?=} top\n     * @return {?}\n     */\n\n  }, {\n    key: \"open\",\n    value: function open(top) {\n      var _this2 = this;\n\n      if (top) {\n        this.layerPosition = this._ngxSmartModalService.getHigherIndex();\n      }\n\n      this._renderer.addClass(document.body, 'dialog-open');\n\n      this.overlayVisible = true;\n      this.visible = true;\n      setTimeout(function () {\n        _this2.openedClass = true;\n\n        if (_this2.target) {\n          _this2.targetPlacement();\n        }\n\n        _this2._changeDetectorRef.markForCheck();\n      });\n      this.onOpen.emit(this);\n\n      if (this.escapable) {\n        window.addEventListener('keyup', this.escapeKeyboardEvent);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      var\n      /** @type {?} */\n      me = this;\n      this.openedClass = false;\n      this.onClose.emit(this);\n      this.onAnyCloseEvent.emit(this);\n\n      if (this._ngxSmartModalService.getOpenedModals().length < 2) {\n        this._renderer.removeClass(document.body, 'dialog-open');\n      }\n\n      setTimeout(function () {\n        me.visibleChange.emit(me.visible);\n        me.visible = false;\n        me.overlayVisible = false;\n\n        me._changeDetectorRef.markForCheck();\n\n        me.onCloseFinished.emit(me);\n        me.onAnyCloseEventFinished.emit(me);\n      }, this.hideDelay);\n      window.removeEventListener('keyup', this.escapeKeyboardEvent);\n    }\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n\n  }, {\n    key: \"dismiss\",\n    value: function dismiss(e) {\n      var\n      /** @type {?} */\n      me = this;\n\n      if (!this.dismissable) {\n        return;\n      }\n\n      if (e.target.classList.contains('overlay')) {\n        this.openedClass = false;\n        this.onDismiss.emit(this);\n        this.onAnyCloseEvent.emit(this);\n\n        if (this._ngxSmartModalService.getOpenedModals().length < 2) {\n          this._renderer.removeClass(document.body, 'dialog-open');\n        }\n\n        setTimeout(function () {\n          me.visible = false;\n          me.visibleChange.emit(me.visible);\n          me.overlayVisible = false;\n\n          me._changeDetectorRef.markForCheck();\n\n          me.onDismissFinished.emit(me);\n          me.onAnyCloseEventFinished.emit(me);\n        }, this.hideDelay);\n        window.removeEventListener('keyup', this.escapeKeyboardEvent);\n      }\n    }\n    /**\n     * @param {?=} top\n     * @return {?}\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle(top) {\n      if (this.visible) {\n        this.close();\n      } else {\n        this.open(top);\n      }\n    }\n    /**\n     * @param {?} className\n     * @return {?}\n     */\n\n  }, {\n    key: \"addCustomClass\",\n    value: function addCustomClass(className) {\n      if (!this.customClass.length) {\n        this.customClass = className;\n      } else {\n        this.customClass += ' ' + className;\n      }\n    }\n    /**\n     * @param {?=} className\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeCustomClass\",\n    value: function removeCustomClass(className) {\n      if (className) {\n        this.customClass = this.customClass.replace(className, '').trim();\n      } else {\n        this.customClass = '';\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return this.visible;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"hasData\",\n    value: function hasData() {\n      return this._data !== undefined;\n    }\n    /**\n     * @param {?} data\n     * @param {?=} force\n     * @return {?}\n     */\n\n  }, {\n    key: \"setData\",\n    value: function setData(data, force) {\n      if (!this.hasData() || this.hasData() && force) {\n        this._data = data;\n        this.onDataAdded.emit(this._data);\n\n        this._changeDetectorRef.markForCheck();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this._data;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeData\",\n    value: function removeData() {\n      this._data = undefined;\n      this.onDataRemoved.emit(true);\n\n      this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"targetPlacement\",\n    value: function targetPlacement() {\n      if (!this.nsmDialog || !this.nsmContent || !this.nsmOverlay || !this.target) {\n        return;\n      }\n\n      var\n      /** @type {?} */\n      targetElementRect = document.querySelector(this.target).getBoundingClientRect();\n      var\n      /** @type {?} */\n      bodyRect = this.nsmOverlay.nativeElement.getBoundingClientRect();\n      var\n      /** @type {?} */\n      nsmContentRect = this.nsmContent.nativeElement.getBoundingClientRect();\n      var\n      /** @type {?} */\n      nsmDialogRect = this.nsmDialog.nativeElement.getBoundingClientRect();\n      var\n      /** @type {?} */\n      marginLeft = parseInt(\n      /** @type {?} */\n      getComputedStyle(this.nsmContent.nativeElement).marginLeft, 10);\n      var\n      /** @type {?} */\n      marginTop = parseInt(\n      /** @type {?} */\n      getComputedStyle(this.nsmContent.nativeElement).marginTop, 10);\n      var\n      /** @type {?} */\n      offsetTop = targetElementRect.top - nsmDialogRect.top - (nsmContentRect.height - targetElementRect.height) / 2;\n      var\n      /** @type {?} */\n      offsetLeft = targetElementRect.left - nsmDialogRect.left - (nsmContentRect.width - targetElementRect.width) / 2;\n\n      if (offsetLeft + nsmDialogRect.left + nsmContentRect.width + marginLeft * 2 > bodyRect.width) {\n        offsetLeft = bodyRect.width - (nsmDialogRect.left + nsmContentRect.width) - marginLeft * 2;\n      } else if (offsetLeft + nsmDialogRect.left < 0) {\n        offsetLeft = -nsmDialogRect.left;\n      }\n\n      if (offsetTop + nsmDialogRect.top + nsmContentRect.height + marginTop > bodyRect.height) {\n        offsetTop = bodyRect.height - (nsmDialogRect.top + nsmContentRect.height) - marginTop;\n      }\n\n      if (offsetTop < 0) {\n        offsetTop = 0;\n      }\n\n      this._renderer.setStyle(this.nsmContent.nativeElement, 'top', offsetTop + 'px');\n\n      this._renderer.setStyle(this.nsmContent.nativeElement, 'left', offsetLeft + 'px');\n    }\n  }]);\n\n  return NgxSmartModalComponent;\n}();\n\nNgxSmartModalComponent.ɵfac = function NgxSmartModalComponent_Factory(t) {\n  return new (t || NgxSmartModalComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(NgxSmartModalService));\n};\n\nNgxSmartModalComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NgxSmartModalComponent,\n  selectors: [[\"ngx-smart-modal\"]],\n  viewQuery: function NgxSmartModalComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, true);\n      ɵngcc0.ɵɵviewQuery(_c1, true);\n      ɵngcc0.ɵɵviewQuery(_c2, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nsmContent = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nsmDialog = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.nsmOverlay = _t.first);\n    }\n  },\n  hostBindings: function NgxSmartModalComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"resize\", function NgxSmartModalComponent_resize_HostBindingHandler() {\n        return ctx.targetPlacement();\n      }, false, ɵngcc0.ɵɵresolveWindow);\n    }\n  },\n  inputs: {\n    closable: \"closable\",\n    escapable: \"escapable\",\n    dismissable: \"dismissable\",\n    identifier: \"identifier\",\n    customClass: \"customClass\",\n    visible: \"visible\",\n    backdrop: \"backdrop\",\n    force: \"force\",\n    hideDelay: \"hideDelay\",\n    autostart: \"autostart\",\n    target: \"target\"\n  },\n  outputs: {\n    visibleChange: \"visibleChange\",\n    onClose: \"onClose\",\n    onCloseFinished: \"onCloseFinished\",\n    onDismiss: \"onDismiss\",\n    onDismissFinished: \"onDismissFinished\",\n    onAnyCloseEvent: \"onAnyCloseEvent\",\n    onAnyCloseEventFinished: \"onAnyCloseEventFinished\",\n    onOpen: \"onOpen\",\n    onEscape: \"onEscape\",\n    onDataAdded: \"onDataAdded\",\n    onDataRemoved: \"onDataRemoved\"\n  },\n  ngContentSelectors: _c5,\n  decls: 1,\n  vars: 1,\n  consts: [[3, \"z-index\", \"ngClass\", \"click\", 4, \"ngIf\"], [3, \"ngClass\", \"click\"], [\"nsmOverlay\", \"\"], [3, \"ngClass\"], [\"nsmDialog\", \"\"], [1, \"nsm-content\"], [\"nsmContent\", \"\"], [1, \"nsm-body\"], [\"type\", \"button\", \"aria-label\", \"Close\", \"class\", \"nsm-dialog-btn-close\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"nsm-dialog-btn-close\", 3, \"click\"], [\"src\", \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDMsNi4wNThjLTguMDc3LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDksMEw2LjA1OCw0NzYuNjkzYy04LjA3Nyw4LjA3Ny04LjA3NywyMS4xNzIsMCwyOS4yNDkgICAgQzEwLjA5Niw1MDkuOTgyLDE1LjM5LDUxMiwyMC42ODMsNTEyYzUuMjkzLDAsMTAuNTg2LTIuMDE5LDE0LjYyNS02LjA1OUw1MDUuOTQzLDM1LjMwNiAgICBDNTE0LjAxOSwyNy4yMyw1MTQuMDE5LDE0LjEzNSw1MDUuOTQzLDYuMDU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNiAgICBjNC4wMzgsNC4wMzksOS4zMzIsNi4wNTgsMTQuNjI1LDYuMDU4YzUuMjkzLDAsMTAuNTg3LTIuMDE5LDE0LjYyNC02LjA1N0M1MTQuMDE4LDQ5Ny44NjYsNTE0LjAxOCw0ODQuNzcxLDUwNS45NDIsNDc2LjY5NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\"]],\n  template: function NgxSmartModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, NgxSmartModalComponent_div_0_Template, 9, 13, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.overlayVisible);\n    }\n  },\n  directives: [ɵngcc1.NgIf, ɵngcc1.NgClass],\n  encapsulation: 2\n});\n/** @nocollapse */\n\nNgxSmartModalComponent.ctorParameters = function () {\n  return [{\n    type: Renderer2\n  }, {\n    type: ChangeDetectorRef\n  }, {\n    type: NgxSmartModalService\n  }];\n};\n\nNgxSmartModalComponent.propDecorators = {\n  \"closable\": [{\n    type: Input\n  }],\n  \"escapable\": [{\n    type: Input\n  }],\n  \"dismissable\": [{\n    type: Input\n  }],\n  \"identifier\": [{\n    type: Input\n  }],\n  \"customClass\": [{\n    type: Input\n  }],\n  \"visible\": [{\n    type: Input\n  }],\n  \"backdrop\": [{\n    type: Input\n  }],\n  \"force\": [{\n    type: Input\n  }],\n  \"hideDelay\": [{\n    type: Input\n  }],\n  \"autostart\": [{\n    type: Input\n  }],\n  \"target\": [{\n    type: Input\n  }],\n  \"visibleChange\": [{\n    type: Output\n  }],\n  \"onClose\": [{\n    type: Output\n  }],\n  \"onCloseFinished\": [{\n    type: Output\n  }],\n  \"onDismiss\": [{\n    type: Output\n  }],\n  \"onDismissFinished\": [{\n    type: Output\n  }],\n  \"onAnyCloseEvent\": [{\n    type: Output\n  }],\n  \"onAnyCloseEventFinished\": [{\n    type: Output\n  }],\n  \"onOpen\": [{\n    type: Output\n  }],\n  \"onEscape\": [{\n    type: Output\n  }],\n  \"onDataAdded\": [{\n    type: Output\n  }],\n  \"onDataRemoved\": [{\n    type: Output\n  }],\n  \"nsmContent\": [{\n    type: ViewChild,\n    args: ['nsmContent']\n  }],\n  \"nsmDialog\": [{\n    type: ViewChild,\n    args: ['nsmDialog']\n  }],\n  \"nsmOverlay\": [{\n    type: ViewChild,\n    args: ['nsmOverlay']\n  }],\n  \"targetPlacement\": [{\n    type: HostListener,\n    args: ['window:resize']\n  }]\n};\n/*@__PURE__*/\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NgxSmartModalComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-smart-modal',\n      template: \"\\n    <div *ngIf=\\\"overlayVisible\\\"\\n         [style.z-index]=\\\"visible ? layerPosition-1 : -1\\\"\\n         [ngClass]=\\\"{'transparent':!backdrop, 'overlay':true, 'nsm-overlay-open':openedClass}\\\"\\n         (click)=\\\"dismiss($event)\\\" #nsmOverlay>\\n      <div [style.z-index]=\\\"visible ? layerPosition : -1\\\"\\n           [ngClass]=\\\"['nsm-dialog', customClass, openedClass ? 'nsm-dialog-open': 'nsm-dialog-close']\\\" #nsmDialog>\\n        <div class=\\\"nsm-content\\\" #nsmContent>\\n          <div class=\\\"nsm-body\\\">\\n            <ng-content></ng-content>\\n          </div>\\n          <button type=\\\"button\\\" *ngIf=\\\"closable\\\" (click)=\\\"close()\\\" aria-label=\\\"Close\\\" class=\\\"nsm-dialog-btn-close\\\">\\n            <img\\n              src=\\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDMsNi4wNThjLTguMDc3LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDksMEw2LjA1OCw0NzYuNjkzYy04LjA3Nyw4LjA3Ny04LjA3NywyMS4xNzIsMCwyOS4yNDkgICAgQzEwLjA5Niw1MDkuOTgyLDE1LjM5LDUxMiwyMC42ODMsNTEyYzUuMjkzLDAsMTAuNTg2LTIuMDE5LDE0LjYyNS02LjA1OUw1MDUuOTQzLDM1LjMwNiAgICBDNTE0LjAxOSwyNy4yMyw1MTQuMDE5LDE0LjEzNSw1MDUuOTQzLDYuMDU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNiAgICBjNC4wMzgsNC4wMzksOS4zMzIsNi4wNTgsMTQuNjI1LDYuMDU4YzUuMjkzLDAsMTAuNTg3LTIuMDE5LDE0LjYyNC02LjA1N0M1MTQuMDE4LDQ5Ny44NjYsNTE0LjAxOCw0ODQuNzcxLDUwNS45NDIsNDc2LjY5NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\\\" />\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  \"\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: NgxSmartModalService\n    }];\n  }, {\n    closable: [{\n      type: Input\n    }],\n    escapable: [{\n      type: Input\n    }],\n    dismissable: [{\n      type: Input\n    }],\n    identifier: [{\n      type: Input\n    }],\n    customClass: [{\n      type: Input\n    }],\n    visible: [{\n      type: Input\n    }],\n    backdrop: [{\n      type: Input\n    }],\n    force: [{\n      type: Input\n    }],\n    hideDelay: [{\n      type: Input\n    }],\n    autostart: [{\n      type: Input\n    }],\n    visibleChange: [{\n      type: Output\n    }],\n    onClose: [{\n      type: Output\n    }],\n    onCloseFinished: [{\n      type: Output\n    }],\n    onDismiss: [{\n      type: Output\n    }],\n    onDismissFinished: [{\n      type: Output\n    }],\n    onAnyCloseEvent: [{\n      type: Output\n    }],\n    onAnyCloseEventFinished: [{\n      type: Output\n    }],\n    onOpen: [{\n      type: Output\n    }],\n    onEscape: [{\n      type: Output\n    }],\n    onDataAdded: [{\n      type: Output\n    }],\n    onDataRemoved: [{\n      type: Output\n    }],\n    targetPlacement: [{\n      type: HostListener,\n      args: ['window:resize']\n    }],\n    target: [{\n      type: Input\n    }],\n    nsmContent: [{\n      type: ViewChild,\n      args: ['nsmContent']\n    }],\n    nsmDialog: [{\n      type: ViewChild,\n      args: ['nsmDialog']\n    }],\n    nsmOverlay: [{\n      type: ViewChild,\n      args: ['nsmOverlay']\n    }]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n\nvar NgxSmartModalModule = /*#__PURE__*/function () {\n  function NgxSmartModalModule() {\n    _classCallCheck(this, NgxSmartModalModule);\n  }\n\n  _createClass(NgxSmartModalModule, null, [{\n    key: \"forRoot\",\n\n    /**\n     * Use in AppModule: new instance of NgxSmartModal.\n     * @return {?}\n     */\n    value: function forRoot() {\n      return {\n        ngModule: NgxSmartModalModule,\n        providers: [NgxSmartModalService]\n      };\n    }\n    /**\n     * Use in features modules with lazy loading: new instance of NgxSmartModal.\n     * @return {?}\n     */\n\n  }, {\n    key: \"forChild\",\n    value: function forChild() {\n      return {\n        ngModule: NgxSmartModalModule,\n        providers: [NgxSmartModalService]\n      };\n    }\n  }]);\n\n  return NgxSmartModalModule;\n}();\n\nNgxSmartModalModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: NgxSmartModalModule\n});\nNgxSmartModalModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function NgxSmartModalModule_Factory(t) {\n    return new (t || NgxSmartModalModule)();\n  },\n  imports: [[CommonModule]]\n});\n/** @nocollapse */\n\nNgxSmartModalModule.ctorParameters = function () {\n  return [];\n};\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxSmartModalModule, {\n    declarations: function declarations() {\n      return [NgxSmartModalComponent];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [NgxSmartModalComponent];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NgxSmartModalModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [NgxSmartModalComponent],\n      exports: [NgxSmartModalComponent],\n      imports: [CommonModule]\n    }]\n  }], null, null);\n})();\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n// Public classes.\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * Entry point for all public APIs of the package.\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NgxSmartModalService, NgxSmartModalComponent, NgxSmartModalModule };","map":{"version":3,"sources":["../../src/services/ngx-smart-modal.service.ts","../../src/components/ngx-smart-modal.component.ts","../../src/modules/ngx-smart-modal.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { NgxSmartModalComponent } from '../../';\nimport { ModalInstance } from './modal-instance';\n\n@Injectable()\nexport class NgxSmartModalService {\n  public modalStack: ModalInstance[] = [];\n  private debouncer: any;\n\n  /**\n   * Add a new modal instance. This step is essential and allows to retrieve any modal at any time.\n   * It stores an object that contains the given modal identifier and the modal itself directly in the `modalStack`.\n   *\n   * @param modalInstance The object that contains the given modal identifier and the modal itself.\n   * @param force Optional parameter that forces the overriding of modal instance if it already exists.\n   * @returns nothing special.\n   */\n  public addModal(modalInstance: ModalInstance, force?: boolean): void {\n    if (force) {\n      const i: number = this.modalStack.findIndex((o: ModalInstance) => {\n        return o.id === modalInstance.id;\n      });\n      if (i > -1) {\n        this.modalStack[i].modal = modalInstance.modal;\n      } else {\n        this.modalStack.push(modalInstance);\n      }\n      return;\n    }\n    this.modalStack.push(modalInstance);\n  }\n\n  /**\n   * Retrieve a modal instance by its identifier.\n   *\n   * @param id The modal identifier used at creation time.\n   */\n  public getModal(id: string): NgxSmartModalComponent {\n    return this.modalStack.filter((o: any) => {\n      return o.id === id;\n    })[0].modal;\n  }\n\n  /**\n   * Alias of `getModal` to retrieve a modal instance by its identifier.\n   *\n   * @param id The modal identifier used at creation time.\n   */\n  public get(id: string): NgxSmartModalComponent {\n    return this.getModal(id);\n  }\n\n  /**\n   * Open a given modal\n   *\n   * @param id The modal identifier used at creation time.\n   * @param force Tell the modal to open top of all other opened modals\n   */\n  public open(id: string, force = false): void {\n    const instance = this.modalStack.find((o: ModalInstance) => {\n      return o.id === id;\n    });\n    if (!!instance) {\n      instance.modal.open(force);\n    } else {\n      throw new Error('Modal not found');\n    }\n  }\n\n  /**\n   * Close a given modal\n   *\n   * @param id The modal identifier used at creation time.\n   */\n  public close(id: string): void {\n    const instance = this.modalStack.find((o: ModalInstance) => {\n      return o.id === id;\n    });\n    if (!!instance) {\n      instance.modal.close();\n    } else {\n      throw new Error('Modal not found');\n    }\n  }\n\n  /**\n   * Toggles a given modal\n   * If the retrieved modal is opened it closes it, else it opens it.\n   *\n   * @param id The modal identifier used at creation time.\n   * @param force Tell the modal to open top of all other opened modals\n   */\n  public toggle(id: string, force = false) {\n    const instance = this.modalStack.find((o: ModalInstance) => {\n      return o.id === id;\n    });\n    if (!!instance) {\n      instance.modal.toggle(force);\n    } else {\n      throw new Error('Modal not found');\n    }\n  }\n\n  /**\n   * Retrieve all the created modals.\n   *\n   * @returns an array that contains all modal instances.\n   */\n  public getModalStack(): ModalInstance[] {\n    return this.modalStack;\n  }\n\n  /**\n   * Retrieve all the opened modals. It looks for all modal instances with their `visible` property set to `true`.\n   *\n   * @returns an array that contains all the opened modals.\n   */\n  public getOpenedModals(): ModalInstance[] {\n    const modals: ModalInstance[] = [];\n    this.modalStack.forEach((o: ModalInstance) => {\n      if (o.modal.visible) {\n        modals.push(o);\n      }\n    });\n    return modals;\n  }\n\n  /**\n   * Get the higher `z-index` value between all the modal instances. It iterates over the `ModalStack` array and\n   * calculates a higher value (it takes the highest index value between all the modal instances and adds 1).\n   * Use it to make a modal appear foreground.\n   *\n   * @returns a higher index from all the existing modal instances.\n   */\n  public getHigherIndex(): number {\n    const index: number[] = [1041];\n    const modals: ModalInstance[] = this.getModalStack();\n    modals.forEach((o: ModalInstance) => {\n      index.push(o.modal.layerPosition);\n    });\n    return Math.max(...index) + 1;\n  }\n\n  /**\n   * It gives the number of modal instances. It's helpful to know if the modal stack is empty or not.\n   *\n   * @returns the number of modal instances.\n   */\n  public getModalStackCount(): number {\n    return this.modalStack.length;\n  }\n\n  /**\n   * Remove a modal instance from the modal stack.\n   *\n   * @param id The modal identifier.\n   * @returns the removed modal instance.\n   */\n  public removeModal(id: string): void {\n    const i: number = this.modalStack.findIndex((o: any) => {\n      return o.id === id;\n    });\n    if (i > -1) {\n      this.modalStack.splice(i, 1);\n    }\n  }\n\n  /**\n   * Associate data to an identified modal. If the modal isn't already associated to some data, it creates a new\n   * entry in the `modalData` array with its `id` and the given `data`. If the modal already has data, it rewrites\n   * them with the new ones. Finally if no modal found it returns an error message in the console and false value\n   * as method output.\n   *\n   * @param data The data you want to associate to the modal.\n   * @param id The modal identifier.\n   * @param force If true, overrides the previous stored data if there was.\n   * @returns true if the given modal exists and the process has been tried, either false.\n   */\n  public setModalData(data: any, id: string, force?: boolean): boolean {\n    if (!!this.modalStack.find((o: ModalInstance) => {\n        return o.id === id;\n      })) {\n      this.getModal(id).setData(data, force);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Retrieve modal data by its identifier.\n   *\n   * @param id The modal identifier used at creation time.\n   * @returns the associated modal data.\n   */\n  public getModalData(id: string): any {\n    return this.getModal(id).getData();\n  }\n\n  /**\n   * Reset the data attached to a given modal.\n   *\n   * @param id The modal identifier used at creation time.\n   * @returns the removed data or false if modal doesn't exist.\n   */\n  public resetModalData(id: string): any | boolean {\n    if (!!this.modalStack.find((o: ModalInstance) => {\n        return o.id === id;\n      })) {\n      const removed: any = this.getModal(id).getData();\n      this.getModal(id).removeData();\n      return removed;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * Close the latest opened modal if it has been declared as escapable\n   * Using a debounce system because one or more modals could be listening\n   * escape key press event.\n   */\n  public closeLatestModal(): void {\n    const me = this;\n    clearTimeout(this.debouncer);\n    this.debouncer = setTimeout(() => {\n      let tmp: ModalInstance | undefined;\n      me.getOpenedModals().forEach((m: ModalInstance) => {\n        if (m.modal.layerPosition > (!!tmp ? tmp.modal.layerPosition : 0 && m.modal.escapable)) {\n          tmp = m;\n        }\n      });\n      return !!tmp ? tmp.modal.close() : false;\n    }, 100);\n  }\n}\n","import {\n  Input,\n  Output,\n  OnInit,\n  OnDestroy,\n  Renderer2,\n  Component,\n  EventEmitter,\n  HostListener,\n  ChangeDetectorRef, ViewChild, ElementRef,\n} from '@angular/core';\n\nimport { NgxSmartModalService } from '../services/ngx-smart-modal.service';\n\n@Component({\n  selector: 'ngx-smart-modal',\n  template: `\n    <div *ngIf=\"overlayVisible\"\n         [style.z-index]=\"visible ? layerPosition-1 : -1\"\n         [ngClass]=\"{'transparent':!backdrop, 'overlay':true, 'nsm-overlay-open':openedClass}\"\n         (click)=\"dismiss($event)\" #nsmOverlay>\n      <div [style.z-index]=\"visible ? layerPosition : -1\"\n           [ngClass]=\"['nsm-dialog', customClass, openedClass ? 'nsm-dialog-open': 'nsm-dialog-close']\" #nsmDialog>\n        <div class=\"nsm-content\" #nsmContent>\n          <div class=\"nsm-body\">\n            <ng-content></ng-content>\n          </div>\n          <button type=\"button\" *ngIf=\"closable\" (click)=\"close()\" aria-label=\"Close\" class=\"nsm-dialog-btn-close\">\n            <img\n              src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDMsNi4wNThjLTguMDc3LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDksMEw2LjA1OCw0NzYuNjkzYy04LjA3Nyw4LjA3Ny04LjA3NywyMS4xNzIsMCwyOS4yNDkgICAgQzEwLjA5Niw1MDkuOTgyLDE1LjM5LDUxMiwyMC42ODMsNTEyYzUuMjkzLDAsMTAuNTg2LTIuMDE5LDE0LjYyNS02LjA1OUw1MDUuOTQzLDM1LjMwNiAgICBDNTE0LjAxOSwyNy4yMyw1MTQuMDE5LDE0LjEzNSw1MDUuOTQzLDYuMDU4eiIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTUwNS45NDIsNDc2LjY5NEwzNS4zMDYsNi4wNTljLTguMDc2LTguMDc3LTIxLjE3Mi04LjA3Ny0yOS4yNDgsMGMtOC4wNzcsOC4wNzYtOC4wNzcsMjEuMTcxLDAsMjkuMjQ4bDQ3MC42MzYsNDcwLjYzNiAgICBjNC4wMzgsNC4wMzksOS4zMzIsNi4wNTgsMTQuNjI1LDYuMDU4YzUuMjkzLDAsMTAuNTg3LTIuMDE5LDE0LjYyNC02LjA1N0M1MTQuMDE4LDQ5Ny44NjYsNTE0LjAxOCw0ODQuNzcxLDUwNS45NDIsNDc2LjY5NHoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class NgxSmartModalComponent implements OnInit, OnDestroy {\n  @Input() public closable: boolean = true;\n  @Input() public escapable: boolean = true;\n  @Input() public dismissable: boolean = true;\n  @Input() public identifier: string = '';\n  @Input() public customClass: string = 'nsm-dialog-animation-fade';\n  @Input() public visible: boolean = false;\n  @Input() public backdrop: boolean = true;\n  @Input() public force: boolean = true;\n  @Input() public hideDelay: number = 500;\n  @Input() public autostart: boolean = false;\n  @Input() public target: any;\n\n  @Output() public visibleChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n  @Output() public onClose: EventEmitter<any> = new EventEmitter();\n  @Output() public onCloseFinished: EventEmitter<any> = new EventEmitter();\n  @Output() public onDismiss: EventEmitter<any> = new EventEmitter();\n  @Output() public onDismissFinished: EventEmitter<any> = new EventEmitter();\n  @Output() public onAnyCloseEvent: EventEmitter<any> = new EventEmitter();\n  @Output() public onAnyCloseEventFinished: EventEmitter<any> = new EventEmitter();\n  @Output() public onOpen: EventEmitter<any> = new EventEmitter();\n  @Output() public onEscape: EventEmitter<any> = new EventEmitter();\n  @Output() public onDataAdded: EventEmitter<any> = new EventEmitter();\n  @Output() public onDataRemoved: EventEmitter<any> = new EventEmitter();\n\n  public layerPosition: number = 1041;\n  public overlayVisible: boolean = false;\n  public openedClass: boolean = false;\n\n  private _data: any;\n\n  @ViewChild('nsmContent') private nsmContent: ElementRef | undefined;\n  @ViewChild('nsmDialog') private nsmDialog: ElementRef | undefined;\n  @ViewChild('nsmOverlay') private nsmOverlay: ElementRef | undefined;\n\n  constructor(\n    private _renderer: Renderer2,\n    private _changeDetectorRef: ChangeDetectorRef,\n    private _ngxSmartModalService: NgxSmartModalService\n  ) {\n  }\n\n  public ngOnInit() {\n    if (!!this.identifier && this.identifier.length) {\n      this.layerPosition += this._ngxSmartModalService.getModalStackCount();\n      this._ngxSmartModalService.addModal({ id: this.identifier, modal: this }, this.force);\n\n      if (this.autostart) {\n        this._ngxSmartModalService.open(this.identifier);\n      }\n    } else {\n      throw new Error('identifier field isn’t set. Please set one before calling <ngx-smart-modal> in a template.');\n    }\n  }\n\n  public ngOnDestroy() {\n    this._ngxSmartModalService.removeModal(this.identifier);\n    window.removeEventListener('keyup', this.escapeKeyboardEvent);\n    if (!this._ngxSmartModalService.getModalStack.length) {\n      this._renderer.removeClass(document.body, 'dialog-open');\n    }\n  }\n\n  public open(top?: boolean): void {\n    if (top) {\n      this.layerPosition = this._ngxSmartModalService.getHigherIndex();\n    }\n\n    this._renderer.addClass(document.body, 'dialog-open');\n    this.overlayVisible = true;\n    this.visible = true;\n\n    setTimeout(() => {\n      this.openedClass = true;\n\n      if (this.target) {\n        this.targetPlacement();\n      }\n\n      this._changeDetectorRef.markForCheck();\n    });\n\n    this.onOpen.emit(this);\n\n    if (this.escapable) {\n      window.addEventListener('keyup', this.escapeKeyboardEvent);\n    }\n  }\n\n  public close(): void {\n    const me = this;\n\n    this.openedClass = false;\n    this.onClose.emit(this);\n    this.onAnyCloseEvent.emit(this);\n\n    if (this._ngxSmartModalService.getOpenedModals().length < 2) {\n      this._renderer.removeClass(document.body, 'dialog-open');\n    }\n\n    setTimeout(() => {\n      me.visibleChange.emit(me.visible);\n      me.visible = false;\n      me.overlayVisible = false;\n      me._changeDetectorRef.markForCheck();\n      me.onCloseFinished.emit(me);\n      me.onAnyCloseEventFinished.emit(me);\n    }, this.hideDelay);\n\n    window.removeEventListener('keyup', this.escapeKeyboardEvent);\n  }\n\n  public dismiss(e: any): void {\n    const me = this;\n\n    if (!this.dismissable) {\n      return;\n    }\n\n    if (e.target.classList.contains('overlay')) {\n      this.openedClass = false;\n      this.onDismiss.emit(this);\n      this.onAnyCloseEvent.emit(this);\n\n      if (this._ngxSmartModalService.getOpenedModals().length < 2) {\n        this._renderer.removeClass(document.body, 'dialog-open');\n      }\n\n      setTimeout(() => {\n        me.visible = false;\n        me.visibleChange.emit(me.visible);\n        me.overlayVisible = false;\n        me._changeDetectorRef.markForCheck();\n        me.onDismissFinished.emit(me);\n        me.onAnyCloseEventFinished.emit(me);\n      }, this.hideDelay);\n\n      window.removeEventListener('keyup', this.escapeKeyboardEvent);\n    }\n  }\n\n  public toggle(top?: boolean) {\n    if (this.visible) {\n      this.close();\n    } else {\n      this.open(top);\n    }\n  }\n\n  public addCustomClass(className: string): void {\n    if (!this.customClass.length) {\n      this.customClass = className;\n    } else {\n      this.customClass += ' ' + className;\n    }\n  }\n\n  public removeCustomClass(className?: string): void {\n    if (className) {\n      this.customClass = this.customClass.replace(className, '').trim();\n    } else {\n      this.customClass = '';\n    }\n  }\n\n  public isVisible(): boolean {\n    return this.visible;\n  }\n\n  public hasData(): boolean {\n    return this._data !== undefined;\n  }\n\n  public setData(data: any, force?: boolean): any {\n    if (!this.hasData() || (this.hasData() && force)) {\n      this._data = data;\n      this.onDataAdded.emit(this._data);\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  public getData(): any {\n    return this._data;\n  }\n\n  public removeData(): void {\n    this._data = undefined;\n    this.onDataRemoved.emit(true);\n    this._changeDetectorRef.markForCheck();\n  }\n\n  public escapeKeyboardEvent = (event: KeyboardEvent) => {\n    if (event.keyCode === 27) {\n      this.onEscape.emit(this);\n      this._ngxSmartModalService.closeLatestModal();\n    }\n  }\n\n  @HostListener('window:resize')\n  public targetPlacement() {\n    if (!this.nsmDialog || !this.nsmContent || !this.nsmOverlay || !this.target) {\n      return;\n    }\n\n    const targetElementRect = document.querySelector(this.target).getBoundingClientRect();\n    const bodyRect = this.nsmOverlay.nativeElement.getBoundingClientRect();\n\n    const nsmContentRect = this.nsmContent.nativeElement.getBoundingClientRect();\n    const nsmDialogRect = this.nsmDialog.nativeElement.getBoundingClientRect();\n\n    const marginLeft = parseInt(getComputedStyle(this.nsmContent.nativeElement).marginLeft as any, 10);\n    const marginTop = parseInt(getComputedStyle(this.nsmContent.nativeElement).marginTop as any, 10);\n\n    let offsetTop = targetElementRect.top - nsmDialogRect.top - ((nsmContentRect.height - targetElementRect.height) / 2);\n    let offsetLeft = targetElementRect.left - nsmDialogRect.left - ((nsmContentRect.width - targetElementRect.width) / 2);\n\n    if (offsetLeft + nsmDialogRect.left + nsmContentRect.width + (marginLeft * 2) > bodyRect.width) {\n      offsetLeft = bodyRect.width - (nsmDialogRect.left + nsmContentRect.width) - (marginLeft * 2);\n    } else if (offsetLeft + nsmDialogRect.left < 0) {\n      offsetLeft = -nsmDialogRect.left;\n    }\n\n    if (offsetTop + nsmDialogRect.top + nsmContentRect.height + marginTop > bodyRect.height) {\n      offsetTop = bodyRect.height - (nsmDialogRect.top + nsmContentRect.height) - marginTop;\n    }\n\n    if (offsetTop < 0) {\n      offsetTop = 0;\n    }\n\n    this._renderer.setStyle(this.nsmContent.nativeElement, 'top', offsetTop + 'px');\n    this._renderer.setStyle(this.nsmContent.nativeElement, 'left', offsetLeft + 'px');\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\nimport { NgxSmartModalService } from '../services/ngx-smart-modal.service';\nimport { NgxSmartModalComponent } from '../components/ngx-smart-modal.component';\n\n@NgModule({\n  declarations: [NgxSmartModalComponent],\n  exports: [NgxSmartModalComponent],\n  imports: [CommonModule]\n})\nexport class NgxSmartModalModule {\n\n  /**\n   * Use in AppModule: new instance of NgxSmartModal.\n   */\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: NgxSmartModalModule,\n      providers: [NgxSmartModalService]\n    };\n  }\n\n  /**\n   * Use in features modules with lazy loading: new instance of NgxSmartModal.\n   */\n  public static forChild(): ModuleWithProviders {\n    return {\n      ngModule: NgxSmartModalModule,\n      providers: [NgxSmartModalService]\n    };\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}